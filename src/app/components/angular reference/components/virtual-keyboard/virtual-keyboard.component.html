<div class="container" [ngClass]="{'keyboard-disabled': !keyboardShouldRender}">
  <div fxLayout="column">
    <mat-input-container>
      <button class="close" mat-mini-fab (click)="onSubmit()">
        <mat-icon>check</mat-icon>
      </button>


      <input [type]="inputElement.nativeElement.type" matInput #keyboardInput (click)="updateCaretPosition()" placeholder="{{ placeholder }}"
        [maxLength]="maxLength" />

    </mat-input-container>
    <div *ngIf="keyboardShouldRender">
      <div fxLayout="row" fxLayoutAlign="center center" *ngFor="let row of (!shift ? layout : layout | getLayout: shift ); let rowIndex = index"
        [attr.data-index]="rowIndex">
        <virtual-keyboard-key #keyboardKey *ngFor="let key of row; let keyIndex = index;" [key]="key" [disabled]="maxLength | checkIfKeyboardDisabled: keyboardInput.value.length"
          [inputRef]="keyboardInput" [attr.data-index]="keyIndex" (keyPress)="keyPress($event)"></virtual-keyboard-key>
      </div>
    </div>
  </div>
</div>
